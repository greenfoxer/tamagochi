generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id          String @id @default(uuid())
    telegram_id String @unique
    username    String
    first_name  String 
    last_name   String
    photo_url   String
    language    String @default("ru")
    is_premium  Boolean @default(false)
    coins       Int @default(0)
    last_active DateTime @default(now())
    created_at  DateTime @default(now())
    updated_at  DateTime @updatedAt
    pets        Pet?
}

model Pet {
  id           String    @id @default(uuid())
  name         String    @default("Питомец")
  level        Int       @default(1)
  hunger       Float     @default(100)
  happiness    Float     @default(100)
  energy       Float     @default(100)
  health       Float     @default(100)
  knowledge    Float     @default(0)
  feedBonus    Float     @default(0)
  happyBonus   Float     @default(0)
  lastFeed     DateTime?
  lastPlay     DateTime?
  lastSleep    DateTime?
  lastEducate  DateTime?
  accessories  String?   // JSON строка с аксессуарами питомца
  owner        User      @relation(fields: [ownerId], references: [id], onDelete: Cascade)
  ownerId      String    @unique
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
} 